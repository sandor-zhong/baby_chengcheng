{% extends 'base.html' %}
{% block content %}

<div class="d-flex gap-2 mb-2">
  <a class="btn btn-sm {% if filter_type=='all' %}btn-primary{% else %}btn-outline-primary{% endif %}" href="{{ url_for('history', type='all') }}">全部</a>
  <a class="btn btn-sm {% if filter_type=='feed' %}btn-primary{% else %}btn-outline-primary{% endif %}" href="{{ url_for('history', type='feed') }}">只看喂奶</a>
  <a class="btn btn-sm {% if filter_type=='diaper' %}btn-primary{% else %}btn-outline-primary{% endif %}" href="{{ url_for('history', type='diaper') }}">只看尿布</a>
</div>

<div class="table-responsive">
<table class="table table-striped">
<thead>
<tr>
<th>时间</th>
<th>类型</th>
<th>奶量 (ml)</th>
<th>备注</th>
<th style="width:80px;">操作</th>
</tr>
</thead>
<tbody>
{% for e in events %}
<tr>
<td>{{ e.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</td>
<td>{{ '喂奶' if e.type=='feed' else '换尿布' }}</td>
<td>{{ e.amount_ml or '-' }}</td>
<td>{{ e.note or '-' }}</td>
<td>
  <button type="button" class="btn btn-sm btn-outline-danger" onclick="showDeleteConfirm('确定删除这条记录吗？', '{{ url_for('delete_event', event_id=e.id) }}', {})">删除</button>
</td>
</tr>
{% endfor %}
</tbody>
</table>
</div>


<a href="{{ url_for('index') }}" class="btn btn-secondary">返回</a>
{% endblock %}